# strict mode

## strict mode란?

ES5부터 지원된 모드로 자바스크립트 언어의 문법을 좀 더 엄격히 적용하여 오류를 발생시킬 가능성이 높거나 자바스크립트의 엔진의 최적화 작업에 문제를 일으킬 수 있는 코드에 대해 명시적 에러를 발생시키는 모드

대체제 -> ESLint 도구 -> 잠재적 오류까지 잡아냄

```javascript
function foo() {
  x = 10;
}

foo();

console.log(x); //10
```

1. 자바스크립트 엔진은 foo함수의 스코프에서 x 변수의 선언 검색
2. 선언이 없으므로 스코프체인을 따라 전역 스코프로 올라가 상위 스코프의 x변수 선언을 검색할 것이다.
3. 전역 스코프에서도 x변수의 선언이 존재하지 않기 때문에 자바스크립트 엔진은 암묵적으로 전역객체에 x프로퍼티 동적 생성 => 이것을 우리는 **암묵적 전역**이라고 한다.
4. 암묵적 전역은 오류를 발생시키는 원인이 될 가능성이 크다.

### 등장 배경

따라서 오류를 줄여 안정적인 코드 생산을 하기 위해 오류를 발생하기 어려운 개발환경을 만드는 것이 중요해 ES5부터 등장한 개념이 바로 strict mode 이다.

### strict mode 적용

전역의 선두 or 함수 몸체의 선두에 'use strict';를 추가하면 스크립트 전체에 strict mode가 적용된다.

### strict mode 적용에 의한 변화

#### 일반 함수 this

strict mode에서 함수를 일반 함수로서 호출하면 this에 undefined가 바인딩된다.

```javascript
(function () {
  "use strict";

  function foo() {
    console.log(this); //undefined
  }
  foo();

  function Foo() {
    console.log(this); //Foo
  }
  new Foo();
})();
```

생성자 함수가 아닌 일반 함수 내부에서는 this를 사용할 필요가 없기 때문.

## 결론

1. ECMAScript5(ES5)가 등장하기 전까지 있었던 javascript의 여러가지 불완전한 문법이 기존사이트에 영원히 박제되는 경우가 있었다.
2. 해당사항을 극복하더라도, 호환성 문제를 해결하기위해 엄격모드에서만 해당 변경사항이 활성화 되도록 해놓았다.
3. 'use strict' 는 최상단에 위치시켜야한다. 그리고 취소할 수 없다.
4. 모던자바스크립트에는 class나 import등의 구조가 존재하는데, 이를 사용하면 자동으로 적용이 된다.
